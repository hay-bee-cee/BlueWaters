<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BLUE WATERS</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-blue: #0066cc;
            --secondary-blue: #004499;
            --accent-cyan: #00ccff;
            --light-bg: #ffffff;
            --light-surface: #f8fafc;
            --light-text: #1e293b;
            --light-text-secondary: #64748b;
            --dark-bg: #0f172a;
            --dark-surface: #1e293b;
            --dark-text: #f1f5f9;
            --dark-text-secondary: #94a3b8;
            --gradient-primary: linear-gradient(135deg, var(--primary-blue), var(--accent-cyan));
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            transition: all 0.3s ease;
            overflow-x: hidden;
        }

        body.light-theme {
            background: var(--light-bg);
            color: var(--light-text);
        }

        body.dark-theme {
            background: var(--dark-bg);
            color: var(--dark-text);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        .header {
            position: relative;
            height: 100vh;
            background: linear-gradient(rgba(0, 102, 204, 0.7), rgba(2, 26, 32, 0.7)), 
                        url('images/thai-an-aDOBzWkFI4E-unsplash.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: white;
        }

        .nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            padding: 20px 0;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        body.light-theme .nav {
            background: rgba(255, 255, 255, 0.95);
        }

        body.dark-theme .nav {
            background: rgba(15, 23, 42, 0.95);
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-family: 'Pacifico', cursive, 'Playfair Display', serif;
            background: linear-gradient(90deg, #00ccff 0%, #0066cc 100%);
            font-size: 1.5rem;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-fill-color: transparent;
            letter-spacing: 2px;
            font-weight: 600;
            text-shadow: 2px 2px 8px rgba(0,102,204,0.08);
        }

        .nav-links {
            display: flex;
            gap: 30px;
            list-style: none;
        }

        .nav-links a {
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        body.light-theme .nav-links a {
            color: var(--light-text);
        }

        body.dark-theme .nav-links a {
            color: var(--dark-text);
        }

        .nav-links a:hover {
            color: var(--accent-cyan);
        }

        .theme-toggle {
            background: none;
            border: 2px solid var(--primary-blue);
            color: var(--primary-blue);
            padding: 8px 16px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .theme-toggle:hover {
            background: var(--primary-blue);
            color: white;
        }

        .hero-content h1 {
            font-family: 'Playfair Display', serif;
            font-size: 3rem;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        .hero-content p {
            font-size: 1.2rem;
            margin-bottom: 30px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }

        .cta-button {
            display: inline-block;
            background: var(--gradient-primary);
            color: white;
            padding: 15px 40px;
            text-decoration: none;
            border-radius: 30px;
            font-weight: 600;
            transition: transform 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 102, 204, 0.3);
        }

        .cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 102, 204, 0.4);
        }

        /* Sections */
        .section {
            padding: 80px 0;
        }

        body.light-theme .section:nth-child(even) {
            background: var(--light-surface);
        }

        body.dark-theme .section:nth-child(even) {
            background: var(--dark-surface);
        }

        .section-title {
            font-family: 'Playfair Display', serif;
            font-size: 2.5rem;
            text-align: center;
            margin-bottom: 60px;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* About Section */
        .about-content {
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
        }

        .artist-image {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            margin: 0 auto 30px;
            background: url('images/Woman Contemplating the Sunset.jpeg');
            background-size: cover;
            background-position: center;
            box-shadow: 0 10px 30px rgba(0, 102, 204, 0.3);
        }

        .about-text {
            font-size: 0.98rem;
            line-height: 1.8;
        }

        body.light-theme .about-text {
            color: var(--light-text-secondary);
        }

        body.dark-theme .about-text {
            color: var(--dark-text-secondary);
        }

        /* Music Sections */
        .music-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }

        .music-card {
            border-radius: 15px;
            overflow: hidden;
            transition: transform 0.3s ease;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        }

        body.light-theme .music-card {
            background: var(--light-bg);
        }

        body.dark-theme .music-card {
            background: var(--dark-surface);
        }

        .music-card:hover {
            transform: translateY(-5px);
        }

        .music-cover {
            width: 100%;
            height: 200px;
            background: var(--gradient-primary);
            position: relative;
            overflow: hidden;
        }

        .music-cover img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .music-info {
            padding: 20px;
        }

        .music-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .music-artist {
            margin-bottom: 15px;
        }

        body.light-theme .music-artist {
            color: var(--light-text-secondary);
        }

        body.dark-theme .music-artist {
            color: var(--dark-text-secondary);
        }

        /* Music Player */
        .music-player {
            border-top: 1px solid rgba(0, 102, 204, 0.2);
            padding: 15px 20px;
        }

        .player-controls {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .play-btn {
            width: 40px;
            height: 40px;
            border: none;
            border-radius: 50%;
            background: var(--gradient-primary) !important;
            color: #fff !important;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.2s ease;
        }

        .play-btn:hover {
            transform: scale(1.1);
        }

        .play-btn:active,
        .play-btn:focus {
            background: var(--gradient-primary) !important;
            color: #fff !important;
        }

        .progress-bar {
            flex: 1;
            height: 4px;
            border-radius: 2px;
            cursor: pointer;
            position: relative;
        }

        body.light-theme .progress-bar {
            background: #e2e8f0;
        }

        body.dark-theme .progress-bar {
            background: #334155;
        }

        .progress-fill {
            height: 100%;
            background: var(--gradient-primary);
            border-radius: 2px;
            width: 0%;
            transition: width 0.3s ease;
        }

        .time-display {
            font-size: 0.9rem;
            min-width: 80px;
            text-align: center;
        }

        body.light-theme .time-display {
            color: var(--light-text-secondary);
        }

        body.dark-theme .time-display {
            color: var(--dark-text-secondary);
        }

        /* Visualizer */
        .visualizer {
            width: 100%;
            height: 60px;
            border-radius: 8px;
            margin-top: 10px;
        }

        body.light-theme .visualizer {
            background: var(--light-surface);
        }

        body.dark-theme .visualizer {
            background: var(--dark-bg);
        }

        /* Lyrics Section */
        .lyrics-container {
            max-width: 100%;
            margin: 15px 0 0 0;
            padding: 12px;
            border-radius: 10px;
            text-align: center;
            display: none;
            overflow-x: auto;
            overflow-y: auto;
            max-height: 40vh;
            box-sizing: border-box;
            word-break: break-word;
            font-size: 1rem;
        }

        @media (max-width: 600px) {
            .lyrics-container {
                font-size: 0.9rem;
                max-height: 45vh;
            }

            .lyrics-content {
                font-size: 0.9rem;
            }
        }

        .lyrics-content {
            line-height: 1.8;
            font-size: 0.8rem;
        }

        body.light-theme .lyrics-content {
            color: var(--light-text-secondary);
        }

        body.dark-theme .lyrics-content {
            color: var(--dark-text-secondary);
        }

        .show-lyrics-btn {
            background: none;
            border: 1px solid var(--primary-blue);
            color: var(--primary-blue);
            padding: 8px 20px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9rem;
            margin-top: 10px;
            transition: all 0.3s ease;
        }

        .show-lyrics-btn:hover {
            background: var(--primary-blue);
            color: white;
        }

        /* Footer */
        .footer {
            font-size: 0.8rem;
            text-align: center;
            padding: 40px 0;
            border-top: 1px solid rgba(0, 102, 204, 0.2);
        }

        body.light-theme .footer {
            color: var(--light-text-secondary);
        }

        body.dark-theme .footer {
            color: var(--dark-text-secondary);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }

            .hero-content h1 {
                font-size: 2rem;
            }

            .hero-content p {
                font-size: 1rem;
            }

            .section-title {
                font-size: 1.7rem;
            }

            .music-grid {
                grid-template-columns: 1fr;
            }

            .player-controls {
                flex-wrap: wrap;
            }
        }
    </style>
</head>
<body class="light-theme">
    <!-- Navigation -->
    <nav class="nav">
        <div class="container nav-container">
            <div class="logo">BLUE WATERS</div>
            <ul class="nav-links">
                <li><a href="#about">About</a></li>
                <li><a href="#singles">Singles</a></li>
                <li><a href="#albums">Albums</a></li>
            </ul>
            <button class="theme-toggle" onclick="toggleTheme()">ðŸŒ™ Dark</button>
        </div>
    </nav>

    <!-- Header -->
    <header class="header">
        <div class="hero-content">
            <h1>BLUE WATERS</h1>
            <p>Streaming the finest sounds that soothe your soul</p>
            <a href="#about" class="cta-button">Discover Music</a>
        </div>
    </header>

    <!-- About Section -->
    <section id="about" class="section">
        <div class="container">
            <h2 class="section-title">About D'eLLEN</h2>
            <div class="about-content">
                <div class="artist-image"></div>
                <p class="about-text">
                    D'eLLEN is an innovative artist pushing the boundaries of contemporary music. 
                    With a unique blend of electronic soundscapes and organic melodies, D'eLLEN creates 
                    immersive experiences that transport listeners to new dimensions of sound. 
                    Based on the concept of "Blue Waters," the music flows like gentle waves, 
                    carrying emotions and stories that resonate with audiences worldwide. 
                    Each composition is carefully crafted to evoke feelings of serenity, wonder, and connection.
                </p>
            </div>
        </div>
    </section>

    <!-- Singles Section -->
    <section id="singles" class="section">
        <div class="container">
            <h2 class="section-title">Latest Singles</h2>
            <div class="music-grid">
                <div class="music-card">
                    <div class="music-cover">
                        <img src="images/dima-pechurin-l-OrbypNqY4-unsplash.jpg" alt="The Hermit Calls">
                    </div>
                    <div class="music-info">
                        <h3 class="music-title">The Hermit Calls</h3>
                        <p class="music-artist">D'eLLEN</p>
                        <div class="music-player">
                            <audio id="audio-single1" src="music/The Hermit Calls.m4a"></audio>
                            <div class="player-controls">
                                <button class="play-btn" onclick="togglePlay(this, 'single1')">â–¶</button>
                                <div class="progress-bar" onclick="seekTo(event, 'single1')">
                                    <div class="progress-fill" id="progress-single1"></div>
                                </div>
                                <div class="time-display">
                                    <span id="time-single1">0:00 / 3:28</span>
                                </div>
                            </div>
                            <canvas class="visualizer" id="visualizer-single1"></canvas>
                        </div>
                        
                        <button class="show-lyrics-btn" onclick="toggleLyrics('lyrics-single1', this)">Show Lyrics</button>
                        <div class="lyrics-container" id="lyrics-single1">
        <h4>The Hermit Calls - Lyrics</h4>
                <div class="lyrics-content"> 
<pre>

<b>Verse 1: </b>
Alone upon the mountain high,  
A lantern lights the quiet sky.  
Steps are slow, 
the path unclear,  
But wisdom whispers, 
"Hold it near."  

<b>Chorus: </b> 
The Hermit calls, 
through shadowed halls,  
Seek within where silence falls.  
Light the lantern, 
find your way,  
In solitude, 
the soul will stay.  

<b>Verse 2:</b> 
No noise to drown the voice inside,  
The echo of truth you cannot hide.  
Staff in hand, 
steady and wise,  
The journeyâ€™s long, 
but sights are bright. 

<b>Chorus: </b> 
The Hermit calls, 
through shadowed halls,  
Seek within where silence falls.  
Light the lantern, 
find your way,  
In solitude, 
the soul will stay.  

<b>Bridge: </b>
Each step revealed, 
but not the whole,  
A star to guide the wandering soul.  
Patience worn like trusted cloak,  
In quiet nights, 
the spirit spoke.  

<b>Chorus (repeat): </b> 
The Hermit calls, 
through shadowed halls,  
Seek within where silence falls.  
Light the lantern, 
find your way,  
In solitude, 
the soul will stay.  

<b>Outro:</b>
So follow light, 
though small and dim,  
The Hermitâ€™s path, 
your sacred hymn.  

<b>(Instrumental fade out) </b>

</pre>
                </div>
            </div>
                    </div>
                </div>
        <div class="music-card">
                    <div class="music-cover">
                        <img src="images/ChatGPT Image Aug 8, 2025, 10_04_39 AM.png" alt="The Hermit Calls">
                    </div>
                    <div class="music-info">
                        <h3 class="music-title">Hard Black Door</h3>
                        <p class="music-artist">D'eLLEN</p>
                        <div class="music-player">
                            <audio id="audio-single2" src="music/Hard Black Door.m4a"></audio>
                            <div class="player-controls">
                                <button class="play-btn" onclick="togglePlay(this, 'single2')">â–¶</button>
                                <div class="progress-bar" onclick="seekTo(event, 'single2')">
                                    <div class="progress-fill" id="progress-single2"></div>
                                </div>
                                <div class="time-display">
                                    <span id="time-single2">0:00 / 3:48</span>
                                </div>
                            </div>
                            <canvas class="visualizer" id="visualizer-single2"></canvas>
                        </div>
                        
                        <button class="show-lyrics-btn" onclick="toggleLyrics('lyrics-single2', this)">Show Lyrics</button>
                        <div class="lyrics-container" id="lyrics-single2">
        <h4>Hard Black Door - Lyrics</h4>
                <div class="lyrics-content"> 
<pre>

<b>Verse 1: </b>
Iâ€™ve been staring at the shadows, 
pacing on this wooden floor
Every heartbeatâ€™s just a whisper 
of the things I canâ€™t ignore
Dreams behind a barrier, 
secrets wrapped in doubt
But the silence starts to crumble 
when I finally speak out

<b>Verse 2:</b>
Hands are trembling in the twilight, 
yesterday feels far away
Hopeâ€™s a flicker in the darkness, 
but Iâ€™m finding words to say
Every scar is just a lesson, 
every fear another key
To turn the lock thatâ€™s holding back 
the parts Iâ€™ve yet to see

<b>Chorus: </b>
The hard black door, 
standing in my way
Trap or invitation, 
I wonâ€™t walk away
One push forward, 
courage in my core
Iâ€™ll carve my own tomorrow 
through that hard black door

<b>Verse 3: </b>
Midnight voices try to haunt me, 
doubts I thought Iâ€™d left behind
But each morning brings new sunlight, 
showing strength I couldnâ€™t find
Walls I built to keep me safe 
are cracks that let hope in
With every stumble forward now, 
I feel the change begin

<b>(Music break: Instrumental) </b>

<b>Verse 4: </b>
Memories like shifting shadows, 
flicker on that painted wood
I trace old hurts with gentle handsâ€”
maybe theyâ€™ve done some good
If every ending leads to doors, 
and every door to more
Then breaking down this barrier 
is what my heart was made for

<b>Bridge: </b>
No more hiding from the thunder, 
no more running from the rain
Iâ€™ll gather all my pieces 
and learn to love the pain
Step by step until Iâ€™m sure
I was made to break this door


<b>Chorus (repeat): </b>
The hard black door, 
standing in my way
Trap or invitation, 
I wonâ€™t walk away
One push forward, 
courage in my core
Iâ€™ll carve my own tomorrow 
through that hard black door

<b>Outro: </b>
On the other side, 
the worldâ€™s a little brighter than before
And Iâ€™m more myself than ever 
through the hard black door

<b>Chorus (repeat): </b>
The hard black door, 
standing in my way
Trap or invitation, 
I wonâ€™t walk away
One push forward, 
courage in my core
Iâ€™ll carve my own tomorrow 
through that hard black door

<b>Chorus (repeat): </b>
The hard black door, 
standing in my way
Trap or invitation, 
I wonâ€™t walk away
One push forward, 
courage in my core
Iâ€™ll carve my own tomorrow 
through that hard black door

<b>(Fade out) </b>

</pre>
                </div>
            </div>
                    </div>
                </div>
                
                <div class="music-card">
                    <div class="music-cover">
                        <img src="images/WhatsApp Image 2025-08-10 at 6.54.08 PM.jpeg" alt="The Hermit Calls">
                    </div>
                    <div class="music-info">
                        <h3 class="music-title">Yoni Bliss</h3>
                        <p class="music-artist">D'eLLEN</p>
                        <div class="music-player">
                            <audio id="audio-single3" src="music/Yoni Bliss.m4a"></audio>
                            <div class="player-controls">
                                <button class="play-btn" onclick="togglePlay(this, 'single3')">â–¶</button>
                                <div class="progress-bar" onclick="seekTo(event, 'single3')">
                                    <div class="progress-fill" id="progress-single3"></div>
                                </div>
                                <div class="time-display">
                                    <span id="time-single3">0:00 / 2:50</span>
                                </div>
                            </div>
                            <canvas class="visualizer" id="visualizer-single3"></canvas>
                        </div>
                        
                        <button class="show-lyrics-btn" onclick="toggleLyrics('lyrics-single3', this)">Show Lyrics</button>
                        <div class="lyrics-container" id="lyrics-single3">
        <h4>Yoni Bliss - Lyrics</h4>
                <div class="lyrics-content"> 
<pre>

<b>Verse 1: </b>
Rise in me, ancient power  
Flow in waves, healing shower  
Open hearts and spiritâ€™s door  
Yonni light, I am restored

<b>Verse 2: </b>
Roots run deep, spirit free  
Sacred water flows through me  
Breathe in peace, release the pain  
Shine your love through every vein

<b>Bridge</b>  
Embrace your truth, let it grow  
Blessed seed in sacred flow  
Warmth and light in every cell  
Whisper softly, all is well

<b>Verse 3: </b>
Strength and beauty, old as time  
Cycles turning, soul in rhyme  
Gently rising, wisdomâ€™s song  
In this space, we all belong


</pre>
                </div>
            </div>
                    </div>
                </div>        
                <div class="music-card">
                    <div class="music-cover">
                        <img src="https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80" alt="Midnight Waves">
                    </div>
                    <div class="music-info">
                        <h3 class="music-title">Midnight Waves</h3>
                        <p class="music-artist">D'ELLEN</p>
                        <div class="music-player">
                            <div class="player-controls">
                                <button class="play-btn" onclick="togglePlay(this, 'single2')">â–¶</button>
                                <div class="progress-bar" onclick="seekTo(event, 'single2')">
                                    <div class="progress-fill" id="progress-single2"></div>
                                </div>
                                <div class="time-display">
                                    <span id="time-single2">0:00 / 4:12</span>
                                </div>
                            </div>
                            <canvas class="visualizer" id="visualizer-single2"></canvas>
                        </div>
                        <button class="show-lyrics-btn" onclick="toggleLyrics('lyrics-single2', this)">Show Lyrics</button>
                        <div class="lyrics-container" id="lyrics-single2">
                <h4>Midnight Waves - Lyrics</h4>
                <div class="lyrics-content">
                    When the moon lights up the shore<br>
                    And the waves crash evermore<br>
                    In the silence of the night<br>
                    Everything will be alright<br><br>
                    
                    Midnight waves wash pain away<br>
                    Bringing hope for a new day<br>
                    In the darkness we can see<br>
                    All that we're meant to be
                </div>
            </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Albums Section -->
    <section id="albums" class="section">
        <div class="container">
            <h2 class="section-title">Albums</h2>
            <div class="music-grid">
                <div class="music-card">
                    <div class="music-cover">
                        <img src="https://images.unsplash.com/photo-1519741497674-611481863552?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80" alt="Blue Waters Album">
                    </div>
                    <div class="music-info">
                        <h3 class="music-title">Blue Waters</h3>
                        <p class="music-artist">D'ELLEN â€¢ 8 tracks</p>
                        <div class="music-player">
                            <div class="player-controls">
                                <button class="play-btn" onclick="togglePlay(this, 'album1')">â–¶</button>
                                <div class="progress-bar" onclick="seekTo(event, 'album1')">
                                    <div class="progress-fill" id="progress-album1"></div>
                                </div>
                                <div class="time-display">
                                    <span id="time-album1">0:00 / 5:47</span>
                                </div>
                            </div>
                            <canvas class="visualizer" id="visualizer-album1"></canvas>
                        </div>
                        <button class="show-lyrics-btn" onclick="toggleLyrics('lyrics-album1')">Show Lyrics</button>
                    </div>
                </div>
            </div>
            
            <!-- Album Lyrics -->
            <div class="lyrics-container" id="lyrics-album1">
                <h4>Blue Waters (Title Track) - Lyrics</h4>
                <div class="lyrics-content">
                    In the blue waters of my mind<br>
                    Peace and tranquility I find<br>
                    Every ripple tells a story<br>
                    Of love and hope and morning glory<br><br>
                    
                    Blue waters run so deep<br>
                    Carrying dreams we long to keep<br>
                    In the current we will flow<br>
                    To places only hearts can know<br><br>
                    
                    Let the blue waters carry you<br>
                    To a world forever new<br>
                    Where music flows like gentle streams<br>
                    And life is more than what it seems
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 BLUE WATERS - D'ELLEN Music Label. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // Theme Toggle
        function toggleTheme() {
            const body = document.body;
            const themeToggle = document.querySelector('.theme-toggle');
            
            if (body.classList.contains('light-theme')) {
                body.classList.remove('light-theme');
                body.classList.add('dark-theme');
                themeToggle.innerHTML = 'â˜€ï¸ Light';
            } else {
                body.classList.remove('dark-theme');
                body.classList.add('light-theme');
                themeToggle.innerHTML = 'ðŸŒ™ Dark';
            }
        }

        // Music Player State
        const playerState = {};

        // Initialize all players
        function initPlayer(id) {
            if (!playerState[id]) {
                const audio = document.getElementById(`audio-${id}`);
                playerState[id] = {
                    isPlaying: false,
                    audio: audio,
                    visualizer: null
                };
                initVisualizer(id);

                // Update progress as audio plays
                audio.addEventListener('timeupdate', () => updateProgress(id));
                audio.addEventListener('ended', () => {
                    playerState[id].isPlaying = false;
                    const button = document.querySelector(`[onclick*="${id}"]`);
                    if (button) button.innerHTML = 'â–¶';
                });
            }
        }

        // Toggle Play/Pause
        function togglePlay(button, id) {
            initPlayer(id);
            const state = playerState[id];
            const audio = state.audio;

            if (state.isPlaying) {
                audio.pause();
                button.innerHTML = 'â–¶';
                state.isPlaying = false;
            } else {
                // Pause all other players
                Object.keys(playerState).forEach(otherId => {
                    if (otherId !== id && playerState[otherId].isPlaying) {
                        const otherBtn = document.querySelector(`[onclick*="${otherId}"]`);
                        if (otherBtn) otherBtn.innerHTML = 'â–¶';
                        playerState[otherId].audio.pause();
                        playerState[otherId].isPlaying = false;
                    }
                });

                audio.play();
                button.innerHTML = 'â¸';
                state.isPlaying = true;
                updateVisualizer(id);
            }
        }

        // Update Progress Bar
        function updateProgress(id) {
            const state = playerState[id];
            const audio = state.audio;
            const progressFill = document.getElementById(`progress-${id}`);
            const timeDisplay = document.getElementById(`time-${id}`);

            if (progressFill && timeDisplay) {
                const percentage = (audio.currentTime / audio.duration) * 100;
                progressFill.style.width = `${percentage}%`;

                const currentMin = Math.floor(audio.currentTime / 60) || 0;
                const currentSec = Math.floor(audio.currentTime % 60) || 0;
                const totalMin = Math.floor(audio.duration / 60) || 0;
                const totalSec = Math.floor(audio.duration % 60) || 0;

                timeDisplay.textContent = `${currentMin}:${currentSec.toString().padStart(2, '0')} / ${totalMin}:${totalSec.toString().padStart(2, '0')}`;
            }
        }

        // Seek to Position
        function seekTo(event, id) {
            initPlayer(id);
            const state = playerState[id];
            const audio = state.audio;
            const progressBar = event.currentTarget;
            const rect = progressBar.getBoundingClientRect();
            const percentage = (event.clientX - rect.left) / rect.width;
            audio.currentTime = percentage * audio.duration;
            updateProgress(id);
        }

        // Initialize Visualizer
        function initVisualizer(id) {
            const canvas = document.getElementById(`visualizer-${id}`);
            if (!canvas) return;

            // Set canvas width/height to match its CSS/display size
            function resizeCanvas() {
                // Use parent width for responsive sizing
                const parentWidth = canvas.parentElement ? canvas.parentElement.offsetWidth : 300;
                canvas.width = parentWidth;
                canvas.height = 60;
            }
            resizeCanvas();

            playerState[id].visualizer = {
                ctx: canvas.getContext('2d'),
                canvas: canvas,
                bars: Array.from({length: 32}, () => Math.random() * 40 + 5),
                resizeCanvas: resizeCanvas
            };
        }

        // Update Visualizer
        function updateVisualizer(id) {
            const state = playerState[id];
            if (!state.visualizer || !state.isPlaying) return;

            const { ctx, canvas, bars } = state.visualizer;
            const barWidth = canvas.width / bars.length;

            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Create gradient
            const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
            gradient.addColorStop(0, '#00ccff');
            gradient.addColorStop(1, '#0066cc');

            bars.forEach((bar, i) => {
                // Animate bars
                const targetHeight = Math.random() * 40 + 5;
                bars[i] += (targetHeight - bars[i]) * 0.1;

                const barHeight = bars[i];
                const x = i * barWidth;
                const y = canvas.height - barHeight;

                ctx.fillStyle = gradient;
                ctx.fillRect(x, y, barWidth - 2, barHeight);
            });

            // Keep animating while playing
            if (state.isPlaying) {
                requestAnimationFrame(() => updateVisualizer(id));
            }
        }

        // Toggle Lyrics
        function toggleLyrics(lyricsId, button) {
            const lyricsContainer = document.getElementById(lyricsId);
            
            if (lyricsContainer.style.display === 'none' || !lyricsContainer.style.display) {
                lyricsContainer.style.display = 'block';
                button.textContent = 'Hide Lyrics';
            } else {
                lyricsContainer.style.display = 'none';
                button.textContent = 'Show Lyrics';
            }
        }

        // Smooth Scrolling
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Initialize all visualizers on load
        window.addEventListener('load', () => {
            ['single1', 'single2', 'album1'].forEach(id => {
                initVisualizer(id);
            });
        });

        // On window resize, update all canvas sizes
        window.addEventListener('resize', () => {
            Object.keys(playerState).forEach(id => {
                if (playerState[id].visualizer && playerState[id].visualizer.resizeCanvas) {
                    playerState[id].visualizer.resizeCanvas();
                }
            });
        });
    </script>
</body>
</html>